<link href="{:C('ADMIN_JS_PATH')}/layui/css/layui.css" rel="stylesheet">
<div class="padding-md" id="APPLYEXCHANGE">
  <div class="smart-widget" style="margin-bottom: 1px;">
    <div class="smart-widget-inner">
      <div class="smart-widget-body">
        <el-breadcrumb separator="/">
          <el-breadcrumb-item>
            <a href="">首页</a>
          </el-breadcrumb-item>
          <el-breadcrumb-item>
            请假管理
          </el-breadcrumb-item>
          <el-breadcrumb-item>
            换班申请
          </el-breadcrumb-item>
        </el-breadcrumb>
      </div>
      <el-divider></el-divider>
      <el-row>
        <el-col :offset="8" :span="8">
          <el-form :model="applyInfo" label-width="100px" ref="mainForm" :rules="{
            date: [
              { required: true, message: '请选择换班日期！', trigger: 'blur' },
            ],
            applicant: [
              { required: true, message: '请输入申请人！', trigger: 'blur' },
            ],
            targetEmployee: [
              { required: true, message: '请输入换班人！', trigger: 'blur' },
            ],
            time: [
              { required: true, message: '请选择时间！', trigger: 'blur' },
            ],
            remark: [
              { required: true, message: '请输入备注！', trigger: 'blur' },
            ],
          }">
            <el-row :gutter="12">
              <el-col :span="12">
                <el-form-item prop="applicant" label="申请人">
                  <el-input v-model="applyInfo.applicant" disabled/>
                </el-form-item>
              </el-col>
              <el-col :span="12">
                <div class="flex items-center">
                  <el-input v-model="applyInfo.job_number" class="mr2">
                  </el-input>
                  <el-button icon="el-icon-search" type="primary" @click="queryEmployee">
                    查询
                  </el-button>
                </div>
              </el-col>
            </el-row>
            <el-row :gutter="12">
              <el-col :span="12">
                <el-form-item prop="targetEmployee" label="换班人">
                  <el-input v-model="applyInfo.targetEmployee" disabled/>
                </el-form-item>
              </el-col>
              <el-col :span="12">
                <div class="flex items-center">
                  <el-input v-model="applyInfo.job_number" class="mr2">
                  </el-input>
                  <el-button icon="el-icon-search" type="primary" @click="queryEmployee">
                    查询
                  </el-button>
                </div>
              </el-col>
            </el-row>
            <el-form-item prop="date" label="换班日期">
              <el-date-picker
                style="width:100%;"
                v-model="applyInfo.date"
                type="datetimerange"
                range-separator="至"
                start-placeholder="开始日期"
                end-placeholder="结束日期"
                align="right">
              </el-date-picker>
            </el-form-item>
            <el-form-item prop="remark" label="备注">
              <el-input
                type="textarea"
                :rows="6"
                v-model="applyInfo.remark">
              </el-input>
            </el-form-item>
          </el-form>
          <div class="row justify-center my4">
            <el-button @click="$refs.mainForm.resetFields()">重置</el-button>
            <el-button type="primary" class="ml4" @click="submit">提交</el-button>
          </div>
        </el-col>
      </el-row>
    </div>
  </div>
</div>
<script type="text/javascript">
  const APPLYEXCHANGE = new Vue({
    el: '#APPLYEXCHANGE',
    data(){
      return {
        applyInfo: {
          job_number: '',
          date: '',
          applicant: '',
          targetEmployee: '',
          remark: ''
        }
      }
    },
    methods: {
      submit(){
        this.$refs.mainForm.validate(r => {
          if(r){
            // 这里代表表单验证通过，即将提交数据到后台
            console.log('提交数据至后台')
          }
        })
      },
      // 查询员工信息
      queryEmployee(){

      }
    }
  })
</script>
